{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Welcome to SWA-PAS L2 Data User Guide ! For news and other documentation visit Solar Orbiter PAS's IRAP Page . Proton Alpha Sensor (PAS) is an instrument for measuring protons (H+) and alphas (He++) in the solar wind. PAS is a part of Solar Wind Analyzer (SWA) suite onboard Solar Orbiter. PAS measures ion velocity distribution functions (VDFs) in 3D that consists of energy, elevation, and azimuth. Acronyms Abbreviations Description SWA Solar Wind Analyzer PAS Proton Alpha Sensor SRF Spacecraft Reference Frame RTN Radial Tangential Normal Frame VDF Velocity Distribution Function Parameters Parameters Description K Number of samplings per second NE Number of energy bins SE Start Energy bin NEL Number of ELevation bins SEL Start ELevation bin","title":"Home"},{"location":"#welcome-to-swa-pas-l2-data-user-guide","text":"For news and other documentation visit Solar Orbiter PAS's IRAP Page . Proton Alpha Sensor (PAS) is an instrument for measuring protons (H+) and alphas (He++) in the solar wind. PAS is a part of Solar Wind Analyzer (SWA) suite onboard Solar Orbiter. PAS measures ion velocity distribution functions (VDFs) in 3D that consists of energy, elevation, and azimuth.","title":"Welcome to SWA-PAS L2 Data User Guide !"},{"location":"#acronyms","text":"Abbreviations Description SWA Solar Wind Analyzer PAS Proton Alpha Sensor SRF Spacecraft Reference Frame RTN Radial Tangential Normal Frame VDF Velocity Distribution Function","title":"Acronyms"},{"location":"#parameters","text":"Parameters Description K Number of samplings per second NE Number of energy bins SE Start Energy bin NEL Number of ELevation bins SEL Start ELevation bin","title":"Parameters"},{"location":"about/","text":"About Document scope This document contains a short description of the Solar Orbiter SWA-PAS sensor and the measurement implementation, a short description of the L2 data and data frames, and a description of how to interpret the velocity distribution function (VDF), and the known data caveats. Authors Andrei Fedorov (andrei.fedorov@irap.omp.eu) Version V02 11/16/2020 Rungployphan Kieokaew (rkieokaew@irap.omp.eu) Last update: 15/06/2022","title":"About"},{"location":"about/#about","text":"","title":"About"},{"location":"about/#document-scope","text":"This document contains a short description of the Solar Orbiter SWA-PAS sensor and the measurement implementation, a short description of the L2 data and data frames, and a description of how to interpret the velocity distribution function (VDF), and the known data caveats.","title":"Document scope"},{"location":"about/#authors","text":"Andrei Fedorov (andrei.fedorov@irap.omp.eu) Version V02 11/16/2020 Rungployphan Kieokaew (rkieokaew@irap.omp.eu) Last update: 15/06/2022","title":"Authors"},{"location":"known-caveats/","text":"Caveats For the moment (16th Oct 2020) the PAS L2 data caveats are as follows: 3D velocity distribution function and 1D differential energy flux could be a little bit unstable inside the energy range [300 - 400] eV. The geometrical factor of the instrument is decreasing for these energies and a statistical count noise can cause perturbed VDF values. 3D velocity distribution function and 1D differential energy flux could be irrelevant for the energies below 300 eV. The geometrical factor of the instrument is very small here and it cannot be determined with sufficient accuracy. A sporadic very low \u201cghost values\u201d can appear in the extreme Elevation and Azimuthal angles in VDF (see Figure 6). Ground calculated density and pressure tensor could be a little bit perturbed inside the solar wind velocity range [260 - 380] km/s. Ground calculated density and pressure tensor are irrelevant for the solar wind velocity below 260 km/s.","title":"Known caveats"},{"location":"known-caveats/#caveats","text":"For the moment (16th Oct 2020) the PAS L2 data caveats are as follows: 3D velocity distribution function and 1D differential energy flux could be a little bit unstable inside the energy range [300 - 400] eV. The geometrical factor of the instrument is decreasing for these energies and a statistical count noise can cause perturbed VDF values. 3D velocity distribution function and 1D differential energy flux could be irrelevant for the energies below 300 eV. The geometrical factor of the instrument is very small here and it cannot be determined with sufficient accuracy. A sporadic very low \u201cghost values\u201d can appear in the extreme Elevation and Azimuthal angles in VDF (see Figure 6). Ground calculated density and pressure tensor could be a little bit perturbed inside the solar wind velocity range [260 - 380] km/s. Ground calculated density and pressure tensor are irrelevant for the solar wind velocity below 260 km/s.","title":"Caveats"},{"location":"pas-frames-samplings/","text":"PAS frames and spatial samplings Frames and bins location Figure 1 shows a simplified diagram of a side-cut of PAS, showing the Elevation and Azimuth angles. Table 1 summarizes the angle coverage, total bin number, and bin labels from the diagram. Table 1 Summary of spatial sampling coverage Parameters Angle coverage Total bin number Bin labels Elevation [-22.5, 22.5] ^{o} ^{o} 9 El.0 to El.9 Azimuth [-24, 42] ^{o} ^{o} 11 CEM 0 to CEM 10 In the diagram, the angle coverage does not include the periphery. Figure 1 Elevation and azimuth bins and angles in the PAS analyzer frame. The CEMs plane is shown from the Analyzer. Additionally, PAS is capable of varying the voltage in order to detect ions in energy range as shown in Table 2. Table 2 Summary of the energy coverage and bins Parameters Energy coverage Total bin number Energy [200, 20000] eV 96 Transformation between Solar Orbiter and PAS frames Figure 2 shows the same in the SRF (noted as SC in Figure and equations below). Note that the solar orbiter frame corresponds to the RTN Heliocentric frame most of the time with \\begin{align} X_{RTN} & = -X_{SC},\\\\ Y_{RTN} & =-Y_{SC}. \\end{align} \\begin{align} X_{RTN} & = -X_{SC},\\\\ Y_{RTN} & =-Y_{SC}. \\end{align} Figure 2 Elevation and azimuth bins in the Solar Orbiter frame. Thus the ion velocity unit vector corresponding to the given bin is calculated as follows: For the PAS frame: \\begin{align} V_X^{PAS} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{PAS} & = - \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{PAS} & = \\sin(El). \\end{align} \\begin{align} V_X^{PAS} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{PAS} & = - \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{PAS} & = \\sin(El). \\end{align} For the Solar Orbiter (SRF) frame: \\begin{align} V_X^{SRF} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{SRF} & = \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{SRF} & = - \\sin(El). \\end{align} \\begin{align} V_X^{SRF} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{SRF} & = \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{SRF} & = - \\sin(El). \\end{align}","title":"PAS frames & samplings"},{"location":"pas-frames-samplings/#pas-frames-and-spatial-samplings","text":"","title":"PAS frames and spatial samplings"},{"location":"pas-frames-samplings/#frames-and-bins-location","text":"Figure 1 shows a simplified diagram of a side-cut of PAS, showing the Elevation and Azimuth angles. Table 1 summarizes the angle coverage, total bin number, and bin labels from the diagram. Table 1 Summary of spatial sampling coverage Parameters Angle coverage Total bin number Bin labels Elevation [-22.5, 22.5] ^{o} ^{o} 9 El.0 to El.9 Azimuth [-24, 42] ^{o} ^{o} 11 CEM 0 to CEM 10 In the diagram, the angle coverage does not include the periphery. Figure 1 Elevation and azimuth bins and angles in the PAS analyzer frame. The CEMs plane is shown from the Analyzer. Additionally, PAS is capable of varying the voltage in order to detect ions in energy range as shown in Table 2. Table 2 Summary of the energy coverage and bins Parameters Energy coverage Total bin number Energy [200, 20000] eV 96","title":"Frames and bins location"},{"location":"pas-frames-samplings/#transformation-between-solar-orbiter-and-pas-frames","text":"Figure 2 shows the same in the SRF (noted as SC in Figure and equations below). Note that the solar orbiter frame corresponds to the RTN Heliocentric frame most of the time with \\begin{align} X_{RTN} & = -X_{SC},\\\\ Y_{RTN} & =-Y_{SC}. \\end{align} \\begin{align} X_{RTN} & = -X_{SC},\\\\ Y_{RTN} & =-Y_{SC}. \\end{align} Figure 2 Elevation and azimuth bins in the Solar Orbiter frame. Thus the ion velocity unit vector corresponding to the given bin is calculated as follows: For the PAS frame: \\begin{align} V_X^{PAS} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{PAS} & = - \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{PAS} & = \\sin(El). \\end{align} \\begin{align} V_X^{PAS} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{PAS} & = - \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{PAS} & = \\sin(El). \\end{align} For the Solar Orbiter (SRF) frame: \\begin{align} V_X^{SRF} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{SRF} & = \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{SRF} & = - \\sin(El). \\end{align} \\begin{align} V_X^{SRF} & = - \\cos(El) \\cdot \\cos (Az),\\\\ V_Y^{SRF} & = \\cos(El) \\cdot \\sin (Az),\\\\ V_Z^{SRF} & = - \\sin(El). \\end{align}","title":"Transformation between Solar Orbiter and PAS frames"},{"location":"pas-measurements/","text":"PAS measurements Design PAS is designed to continuously determine the 3D distribution functions of the dominant ions of the solar wind, from 200 eV to 20 KeV, without mass and charge selection. In practice, this concerns mostly the proton and alpha populations. These measurements are used to calculate the density, speed, pressure, and temperature tensors of the main component of the solar wind. Resolution and coverage At full resolution, PAS measures the 3D ion distribution function, in the form of arrays of 96 energies, 11 azimuth angles, and 9 elevation angles, in about ~1 second. The energy and the angle of elevation are selected by imposing different high voltages on the electrodes of the deflection system and the electrostatic analyzer. The 11 azimuthal angles correspond to the 11 detectors of the instrument (called \"channeltron\"). Reduced resolution and coverage for burst mode In \"burst\" mode, the measurement rate can reach up to 20 Hz. The phase space sampling is then reduced, for example by 24 energies and 5 deflections, which allows to increase the time cadence of distribution functions measurements. An algorithm (peak tracking procedure) is used to select the peak of the distribution and to center sampling around this peak. Different settings for normal mode and burst mode The different types of sampling are programmed in the form of cyclograms. They define the operation of the instrument over periods of several days. In normal mode, the functions are measured every 4 s with, every 300 s, a short burst mode of 9 s (SnapShot). \u2018Long\u2019 burst mode is also acquired every day, consisting of 300 s of continuous sampling at high cadence. The sampling frequency during bursts or snapshots is generally of 4 distributions / s (4 Hz analysis).","title":"PAS measurements"},{"location":"pas-measurements/#pas-measurements","text":"","title":"PAS measurements"},{"location":"pas-measurements/#design","text":"PAS is designed to continuously determine the 3D distribution functions of the dominant ions of the solar wind, from 200 eV to 20 KeV, without mass and charge selection. In practice, this concerns mostly the proton and alpha populations. These measurements are used to calculate the density, speed, pressure, and temperature tensors of the main component of the solar wind.","title":"Design"},{"location":"pas-measurements/#resolution-and-coverage","text":"At full resolution, PAS measures the 3D ion distribution function, in the form of arrays of 96 energies, 11 azimuth angles, and 9 elevation angles, in about ~1 second. The energy and the angle of elevation are selected by imposing different high voltages on the electrodes of the deflection system and the electrostatic analyzer. The 11 azimuthal angles correspond to the 11 detectors of the instrument (called \"channeltron\").","title":"Resolution and coverage"},{"location":"pas-measurements/#reduced-resolution-and-coverage-for-burst-mode","text":"In \"burst\" mode, the measurement rate can reach up to 20 Hz. The phase space sampling is then reduced, for example by 24 energies and 5 deflections, which allows to increase the time cadence of distribution functions measurements. An algorithm (peak tracking procedure) is used to select the peak of the distribution and to center sampling around this peak.","title":"Reduced resolution and coverage for burst mode"},{"location":"pas-measurements/#different-settings-for-normal-mode-and-burst-mode","text":"The different types of sampling are programmed in the form of cyclograms. They define the operation of the instrument over periods of several days. In normal mode, the functions are measured every 4 s with, every 300 s, a short burst mode of 9 s (SnapShot). \u2018Long\u2019 burst mode is also acquired every day, consisting of 300 s of continuous sampling at high cadence. The sampling frequency during bursts or snapshots is generally of 4 distributions / s (4 Hz analysis).","title":"Different settings for normal mode and burst mode"},{"location":"pas-samplings-organisation/","text":"PAS sampling organization PAS performs the energy-elevation sweep as shown in Figure 3. PAS keeps the constant energy while sweeping through the elevations. During the sweeping along one elevation bin, PAS accumulates counts in all 11 azimuth bins simultaneously. As soon as the energy-elevation sweep is completed the resulting data set (so-called \u201csampling\u201d) is a matrix of [11 azimuth, 9 elevations, 96 energies]. Because in most of the cases the real sweep does not cover the full energy-elevation range (it may be like [11 azimuths, 3:7 elevations, 10:73 energies]), we provide also the supporting information about the start/number of the energy and the elevation bins. Since a \u201cpeak tracking\u201d runs permanently, the position of the energy x elevation window inside the 9 x 96 frame can change at any time. Figure 3 PAS measurements scheme. PAS operation cyclogram In the normal mode, the PAS cyclogram is following the cycle shown in Figure 4. PAS produces one sampling per 4 s. Every 100 s, PAS tries to adapt the energy/elevation window to the solar wind velocity vector. Each 300s, PAS performs fast measurements called \u201cSnapShot\u201d. Here PAS provides \u201cK\u201d number of samplings per second without any gaps. This short cadence takes 9 s. The long fast measurements, called \u201cBurst Mode\u201d is performed by the ground TC. The duration of the \u201cBurst Mode\u201d is 300s. Figure 4 PAS Normal mode implementation","title":"PAS sampling organisation"},{"location":"pas-samplings-organisation/#pas-sampling-organization","text":"PAS performs the energy-elevation sweep as shown in Figure 3. PAS keeps the constant energy while sweeping through the elevations. During the sweeping along one elevation bin, PAS accumulates counts in all 11 azimuth bins simultaneously. As soon as the energy-elevation sweep is completed the resulting data set (so-called \u201csampling\u201d) is a matrix of [11 azimuth, 9 elevations, 96 energies]. Because in most of the cases the real sweep does not cover the full energy-elevation range (it may be like [11 azimuths, 3:7 elevations, 10:73 energies]), we provide also the supporting information about the start/number of the energy and the elevation bins. Since a \u201cpeak tracking\u201d runs permanently, the position of the energy x elevation window inside the 9 x 96 frame can change at any time. Figure 3 PAS measurements scheme.","title":"PAS sampling organization"},{"location":"pas-samplings-organisation/#pas-operation-cyclogram","text":"In the normal mode, the PAS cyclogram is following the cycle shown in Figure 4. PAS produces one sampling per 4 s. Every 100 s, PAS tries to adapt the energy/elevation window to the solar wind velocity vector. Each 300s, PAS performs fast measurements called \u201cSnapShot\u201d. Here PAS provides \u201cK\u201d number of samplings per second without any gaps. This short cadence takes 9 s. The long fast measurements, called \u201cBurst Mode\u201d is performed by the ground TC. The duration of the \u201cBurst Mode\u201d is 300s. Figure 4 PAS Normal mode implementation","title":"PAS operation cyclogram"},{"location":"special-notes-vdf/","text":"Special notes about PAS VDF interpretation PAS VDF data product are described in Section 5.1. Each corresponding CDF file (see Table 1) contains four supporting variables: Full Elevation [ 11, 9, 3] = [Azimuthal bins, Elevation bins, [elArrMin,Center,elArrMax]] Full Azimuth [ 11, 9, 3] = [Azimuthal bins, Elevation bins, [azArrMin,Center,azArrMaxMax]] Elevation_correction [96] = [Energy bins] Energy [96] = [Energy bins] delta_p_Energy[96] = [Energy bins] delta_m_Energy[96] = [Energy bins] These four tables define position of of each bin as follows ie : bin energy index [0 - 95] iel : bin elevation index [0 - 8] iaz : bin azimuth index [0 - 10] All angles are in rads se = start_energy index sel = start_elevation index E2V = 13.85 Given above information, we can find the limit of sampling velocity vMin[ie] = E2V * sqrt(Energy[ie]-delta_m_Energy) #[km/s] vMax[ie] = E2V * sqrt(Energy[ie]+delta_p_Energy) #[km/s] The coordinates of each bin can be found as x0 = -cos(elArrMin[iaz,iel])*cos(azArrMin[iaz,iel]) x1 = -cos(elArrMin[iaz,iel])*cos(azArrMax[iaz,iel]) x2 = -cos(elArrMax[iaz,iel])*cos(azArrMin[iaz,iel]) x3 = -cos(elArrMax[iaz,iel])*cos(azArrMax[iaz,iel]) y0 = cos(elArrMin[iaz,iel])*sin(azArrMin[iaz,iel]) y1 = cos(elArrMin[iaz,iel])*sin(azArrMax[iaz,iel]) y2 = cos(elArrMax[iaz,iel])*sin(azArrMin[iaz,iel]) y3 = cos(elArrMax[iaz,iel])*sin(azArrMax[iaz,iel]) z0 = -sin(elArrMin[iaz,iel]) z1 = -sin(elArrMin[iaz,iel]) z2 = -sin(elArrMax[iaz,iel]) z3 = -sin(elArrMax[iaz,iel]) if(((ie - se) % 2) == 0) z0,z1,z2,z3 += Elevation_correction[ie] else z0,z1,z2,z3 -= Elevation_correction[ie] The position of each grid is then Pi = [Xi,Yi,Zi] where i = 0, 1, 2, 3 i = 0, 1, 2, 3 . Now the cell points coordinates are defined according to Figure 5. Figure 5 Definition of one bin in the velocity space in SRF frame Figure 6 show the results of the integration of one hour averaged VDF along Vy and Vz. The Elevation correction gives the saw-like boundaries between bins in Vx-Vz plane. Also, in the plane Vx-Vy you can see that the VDFs value are perturbed for the velocities below 280 km/s. Figure 6: One hour averaged VDF projected into Vx-Vy[SRF] and Vx-Vz[SRF] panes. For convenience the Sun is on the left and the Vx is positive.","title":"VDF interpretation"},{"location":"special-notes-vdf/#special-notes-about-pas-vdf-interpretation","text":"PAS VDF data product are described in Section 5.1. Each corresponding CDF file (see Table 1) contains four supporting variables: Full Elevation [ 11, 9, 3] = [Azimuthal bins, Elevation bins, [elArrMin,Center,elArrMax]] Full Azimuth [ 11, 9, 3] = [Azimuthal bins, Elevation bins, [azArrMin,Center,azArrMaxMax]] Elevation_correction [96] = [Energy bins] Energy [96] = [Energy bins] delta_p_Energy[96] = [Energy bins] delta_m_Energy[96] = [Energy bins] These four tables define position of of each bin as follows ie : bin energy index [0 - 95] iel : bin elevation index [0 - 8] iaz : bin azimuth index [0 - 10] All angles are in rads se = start_energy index sel = start_elevation index E2V = 13.85 Given above information, we can find the limit of sampling velocity vMin[ie] = E2V * sqrt(Energy[ie]-delta_m_Energy) #[km/s] vMax[ie] = E2V * sqrt(Energy[ie]+delta_p_Energy) #[km/s] The coordinates of each bin can be found as x0 = -cos(elArrMin[iaz,iel])*cos(azArrMin[iaz,iel]) x1 = -cos(elArrMin[iaz,iel])*cos(azArrMax[iaz,iel]) x2 = -cos(elArrMax[iaz,iel])*cos(azArrMin[iaz,iel]) x3 = -cos(elArrMax[iaz,iel])*cos(azArrMax[iaz,iel]) y0 = cos(elArrMin[iaz,iel])*sin(azArrMin[iaz,iel]) y1 = cos(elArrMin[iaz,iel])*sin(azArrMax[iaz,iel]) y2 = cos(elArrMax[iaz,iel])*sin(azArrMin[iaz,iel]) y3 = cos(elArrMax[iaz,iel])*sin(azArrMax[iaz,iel]) z0 = -sin(elArrMin[iaz,iel]) z1 = -sin(elArrMin[iaz,iel]) z2 = -sin(elArrMax[iaz,iel]) z3 = -sin(elArrMax[iaz,iel]) if(((ie - se) % 2) == 0) z0,z1,z2,z3 += Elevation_correction[ie] else z0,z1,z2,z3 -= Elevation_correction[ie] The position of each grid is then Pi = [Xi,Yi,Zi] where i = 0, 1, 2, 3 i = 0, 1, 2, 3 . Now the cell points coordinates are defined according to Figure 5. Figure 5 Definition of one bin in the velocity space in SRF frame Figure 6 show the results of the integration of one hour averaged VDF along Vy and Vz. The Elevation correction gives the saw-like boundaries between bins in Vx-Vz plane. Also, in the plane Vx-Vy you can see that the VDFs value are perturbed for the velocities below 280 km/s. Figure 6: One hour averaged VDF projected into Vx-Vy[SRF] and Vx-Vz[SRF] panes. For convenience the Sun is on the left and the Vx is positive.","title":"Special notes about PAS VDF interpretation"}]}